(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{PPFG:function(t,e,o){"use strict";o.r(e),o.d(e,"CustomersModule",function(){return T});var r=o("ofXK"),i=o("PCNd"),b=o("tyNb"),c=o("3Pt+"),a=o("yvkx"),s=o("TwVa"),n=o("fXoL"),l=o("5eHb"),m=o("wgH9"),u=o("nm5K"),d=o("+803"),p=o("xhcc"),h=o("ZOsW");const S=function(){return["Customer Management","Customer"]},v=function(){return["/customer-management/customers"]};var R=function(t){return t.save="SaveCustomer",t.update="UpdateProduct",t}({});let f=(()=>{class t{constructor(t,e,o,r,i,b){this.toast=t,this.lookupService=e,this.route=o,this.router=r,this.formBuilder=i,this.apiService=b,this.submitted=!1,this.genders=[],this.socialMedia=[],this.cities=[],this.states=[],this.countries=[],this.route.params.subscribe(t=>{t.customerId&&(this.customer_id=t.customerId,this.GetCustomerbyId(this.customer_id))})}ngOnInit(){this.customerForm=this.formBuilder.group({customer_id:[null],first_name:[null,[c.o.required,a.b.emptySpacesValidator]],last_name:[null],social_media:[null,[c.o.required]],social_user_name:[null,[c.o.required,a.b.emptySpacesValidator]],address:[null,[c.o.required,a.b.emptySpacesValidator]],city:[null,[c.o.required]],state:[null,[c.o.required]],country:["Pakistan",[c.o.required]],postal_code:[null],phone_number:[null,[c.o.required,a.b.emptySpacesValidator,a.b.phoneValidator]],email:[null,[c.o.required,a.b.emptySpacesValidator,a.b.emailValidator]]}),this.PopulateDropdowns()}PopulateDropdowns(){this.lookupService.getCities().subscribe(t=>{this.cities=t}),this.lookupService.getStates().subscribe(t=>{this.states=t}),this.lookupService.getCountries().subscribe(t=>{this.countries=t}),this.lookupService.getSocialMedia().subscribe(t=>{this.socialMedia=t})}Submit(){if(this.method=this.customer_id?R.update:R.save,this.customerForm.invalid)return;let t=(new s.a).deserialize(this.customerForm.value);this.apiService[this.method](t).subscribe(t=>{this.toast.success("Customer Successfully "+(this.customer_id?"Updated":"Created")),this.router.navigate(["/customer-management/customers"],{replaceUrl:!0})})}onChangeCity(t){t?this.customerForm.get("state").setValue(t.admin_name):this.customerForm.get("state").setValue(null)}GetCustomerbyId(t){this.apiService.GetCustomerbyId(t).subscribe(t=>{this.Populate(t)})}Populate(t){Object.keys(t).forEach(e=>{let o=this.customerForm.get(e);o&&o.patchValue(t[e],{onlySelf:!1})})}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(l.b),n.Mb(m.a),n.Mb(b.a),n.Mb(b.f),n.Mb(c.b),n.Mb(u.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-customer-crud"]],decls:83,vars:31,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],[1,"form","theme-form",3,"formGroup"],[1,"col-sm-6"],[1,"form-group"],["formControlName","first_name","type","text","placeholder","Enter First Name",1,"form-control"],[3,"control","show"],["type","text","formControlName","last_name","placeholder","Enter Last Name",1,"form-control"],["type","text","formControlName","phone_number","placeholder","+92300xxxxxxx",1,"form-control"],["type","text","formControlName","email","placeholder","user@email.com",1,"form-control"],["bindLabel","socal_media","bindValue","socal_media_key","formControlName","social_media","placeholder","Select Social Media",3,"items"],["type","text","formControlName","social_user_name","placeholder","Enter Social Media User Name",1,"form-control"],[1,"col"],["id","exampleFormControlTextarea4","placeholder","Enter Address..","formControlName","address","rows","2",1,"form-control"],[1,"col-sm-4"],["bindLabel","city","bindValue","city","placeholder","Select City","formControlName","city",3,"items","change"],["bindLabel","state_name","bindValue","state_name","placeholder","Select State","formControlName","state",3,"items"],["bindLabel","country_name","bindValue","country_name","formControlName","country","placeholder","Select Country",3,"items"],[1,"col-md-12","project-list"],[1,"text-right"],[1,"form-group","mb-0","mr-0"],[1,"btn","btn-danger",3,"routerLink"],[1,"btn","btn-success","ml-2",3,"click"]],template:function(t,e){1&t&&(n.Nb(0,"app-breadcrumb",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Sb(5,"div",5),n.Sb(6,"div",6),n.Sb(7,"div",2),n.Sb(8,"div",7),n.Sb(9,"div",8),n.Sb(10,"label"),n.Jc(11,"First Name"),n.Rb(),n.Nb(12,"input",9),n.Nb(13,"app-validation-popover",10),n.Rb(),n.Rb(),n.Sb(14,"div",7),n.Sb(15,"div",8),n.Sb(16,"label"),n.Jc(17,"Last Name"),n.Rb(),n.Nb(18,"input",11),n.Nb(19,"app-validation-popover",10),n.Rb(),n.Rb(),n.Rb(),n.Sb(20,"div",2),n.Sb(21,"div",7),n.Sb(22,"div",8),n.Sb(23,"label"),n.Jc(24,"Phone Number"),n.Rb(),n.Nb(25,"input",12),n.Nb(26,"app-validation-popover",10),n.Rb(),n.Rb(),n.Sb(27,"div",7),n.Sb(28,"div",8),n.Sb(29,"label"),n.Jc(30,"Email"),n.Rb(),n.Nb(31,"input",13),n.Nb(32,"app-validation-popover",10),n.Rb(),n.Rb(),n.Rb(),n.Sb(33,"div",2),n.Sb(34,"div",7),n.Sb(35,"div",8),n.Sb(36,"label"),n.Jc(37,"Social Media"),n.Rb(),n.Nb(38,"ng-select",14),n.Nb(39,"app-validation-popover",10),n.Rb(),n.Rb(),n.Sb(40,"div",7),n.Sb(41,"div",8),n.Sb(42,"label"),n.Jc(43,"Social Media User Name"),n.Rb(),n.Nb(44,"input",15),n.Nb(45,"app-validation-popover",10),n.Rb(),n.Rb(),n.Rb(),n.Sb(46,"div",2),n.Sb(47,"div",16),n.Sb(48,"div",8),n.Sb(49,"label"),n.Jc(50,"Address"),n.Rb(),n.Nb(51,"textarea",17),n.Nb(52,"app-validation-popover",10),n.Rb(),n.Rb(),n.Rb(),n.Sb(53,"div",2),n.Sb(54,"div",18),n.Sb(55,"div",8),n.Sb(56,"label"),n.Jc(57,"Select City"),n.Rb(),n.Sb(58,"ng-select",19),n.cc("change",function(t){return e.onChangeCity(t)}),n.Rb(),n.Nb(59,"app-validation-popover",10),n.Rb(),n.Rb(),n.Sb(60,"div",18),n.Sb(61,"div",8),n.Sb(62,"label"),n.Jc(63,"Select State"),n.Rb(),n.Nb(64,"ng-select",20),n.Nb(65,"app-validation-popover",10),n.Rb(),n.Rb(),n.Sb(66,"div",18),n.Sb(67,"div",8),n.Sb(68,"label"),n.Jc(69,"Select Country"),n.Rb(),n.Nb(70,"ng-select",21),n.Nb(71,"app-validation-popover",10),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(72,"div",22),n.Sb(73,"div",4),n.Sb(74,"div",2),n.Nb(75,"div",7),n.Sb(76,"div",7),n.Sb(77,"div",23),n.Nb(78,"div",24),n.Sb(79,"a",25),n.Jc(80,"Cancel"),n.Rb(),n.Sb(81,"button",26),n.cc("click",function(){return e.Submit()}),n.Jc(82,"Submit"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.mc("title","Add Customer")("items",n.pc(29,S))("active_item","Create New"),n.zb(6),n.mc("formGroup",e.customerForm),n.zb(7),n.mc("control",e.customerForm.controls.first_name)("show",e.submitted),n.zb(6),n.mc("control",e.customerForm.controls.last_name)("show",e.submitted),n.zb(7),n.mc("control",e.customerForm.controls.phone_number)("show",e.submitted),n.zb(6),n.mc("control",e.customerForm.controls.email)("show",e.submitted),n.zb(6),n.mc("items",e.socialMedia),n.zb(1),n.mc("control",e.customerForm.controls.social_media)("show",e.submitted),n.zb(6),n.mc("control",e.customerForm.controls.social_user_name)("show",e.submitted),n.zb(7),n.mc("control",e.customerForm.controls.address)("show",e.submitted),n.zb(6),n.mc("items",e.cities),n.zb(1),n.mc("control",e.customerForm.controls.city)("show",e.submitted),n.zb(5),n.mc("items",e.states),n.zb(1),n.mc("control",e.customerForm.controls.state)("show",e.submitted),n.zb(5),n.mc("items",e.countries),n.zb(1),n.mc("control",e.customerForm.controls.country)("show",e.submitted),n.zb(8),n.mc("routerLink",n.pc(30,v)))},directives:[d.a,c.j,c.d,c.a,c.i,c.c,p.a,h.a,b.h],styles:["input[_ngcontent-%COMP%]{color:#495057!important}"]}),t})();var g=o("1kSV");let y=(()=>{class t{constructor(){}ngOnInit(){}Search(){}Clear(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Gb({type:t,selectors:[["app-customer-advance-search"]],decls:17,vars:0,consts:[[1,"input-group","input-group-sm","py-2","px-4","bg-light","text-center"],["ngbDropdown","",1,"input-group-prepend"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-info","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem",""],["type","text","formControlName","product_name","placeholder","Product Name *",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Sb(2,"button",2),n.Jc(3,"Toggle dropdown"),n.Rb(),n.Sb(4,"div",3),n.Sb(5,"button",4),n.Jc(6,"Action - 1"),n.Rb(),n.Sb(7,"button",4),n.Jc(8,"Another Action"),n.Rb(),n.Sb(9,"button",4),n.Jc(10,"Something else is here"),n.Rb(),n.Rb(),n.Rb(),n.Nb(11,"input",5),n.Sb(12,"div",6),n.Sb(13,"button",7),n.cc("click",function(){return e.Clear()}),n.Jc(14,"Clear"),n.Rb(),n.Sb(15,"button",8),n.cc("click",function(){return e.Search()}),n.Jc(16,"Search"),n.Rb(),n.Rb(),n.Rb())},directives:[g.a,g.d,g.c,g.b,c.a,c.i,c.c],styles:[""]}),t})(),N=(()=>{class t{constructor(t){this.elRef=t,this.characters=30,this.placement="top"}ngAfterViewInit(){this.elRef.nativeElement.innerText&&this.elRef.nativeElement.innerText.length>this.characters&&(this.elRef.nativeElement.innerText=this.elRef.nativeElement.innerText.substr(0,this.characters)+"...",this.elRef.nativeElement.attributes.placement||(this.elRef.nativeElement.attributes.placement=this.placement))}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(n.m))},t.\u0275dir=n.Hb({type:t,selectors:[["","appTextTrim",""]],inputs:{characters:"characters",placement:"placement"}}),t})();const _=function(t,e){return{"fa-instagram":t,"fa-facebook-square":e}},C=function(t){return["/customer-management/customer",t]};function w(t,e){if(1&t&&(n.Sb(0,"tr",17),n.Sb(1,"td",21),n.Jc(2),n.Rb(),n.Sb(3,"td"),n.Jc(4),n.Rb(),n.Sb(5,"td"),n.Nb(6,"i",22),n.Sb(7,"a",23),n.Sb(8,"span",24),n.Jc(9),n.Rb(),n.Rb(),n.Rb(),n.Sb(10,"td"),n.Sb(11,"span",25),n.Jc(12),n.Rb(),n.Rb(),n.Sb(13,"td"),n.Jc(14),n.Rb(),n.Sb(15,"td"),n.Jc(16),n.Rb(),n.Sb(17,"td",21),n.Sb(18,"button",26),n.Nb(19,"i",27),n.Rb(),n.Rb(),n.Sb(20,"td"),n.Sb(21,"span",28),n.Jc(22),n.Rb(),n.Rb(),n.Sb(23,"td",21),n.Sb(24,"a",29),n.Nb(25,"i",30),n.Rb(),n.Sb(26,"button",31),n.Nb(27,"i",32),n.Rb(),n.Rb(),n.Rb()),2&t){const t=e.$implicit,o=n.fc();n.zb(2),n.Kc(t.customer_sys_id),n.zb(2),n.Kc(t.first_name),n.zb(2),n.mc("ngClass",n.rc(13,_,"insta"==t.social_media,"fb"==t.social_media)),n.zb(1),n.mc("href","insta"==t.social_media?o.instaLink+t.social_user_name:o.facebookLink+t.social_user_name,n.Bc),n.zb(1),n.mc("ngbTooltip",t.social_user_name),n.zb(1),n.Lc(" \xa0",t.social_user_name," "),n.zb(2),n.mc("ngbTooltip",t.address),n.zb(1),n.Kc(t.address),n.zb(2),n.Kc(t.city),n.zb(2),n.Kc(t.state),n.zb(5),n.mc("ngbTooltip",t.email),n.zb(1),n.Kc(t.email),n.zb(2),n.mc("routerLink",n.qc(16,C,t.customer_id))}}const J=function(){return["Customer Management"]},k=function(){return["/customer-management/customer"]};let x=(()=>{class t{constructor(t){this.apiService=t,this.instaLink="https://www.instagram.com/",this.facebookLink="https://www.facebook.com/",this.customers=[]}ngOnInit(){this.GetCustomer()}GetCustomer(){this.apiService.GetCustomer().subscribe(t=>{this.customers=t.listings},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(n.Mb(u.a))},t.\u0275cmp=n.Gb({type:t,selectors:[["app-customer-list"]],decls:44,vars:7,consts:[[3,"title","items","active_item"],[1,"container-fluid"],[1,"row"],[1,"col-md-12","project-list"],[1,"card"],[1,"col-sm-6"],[1,"text-right"],[1,"form-group","mb-0","mr-0"],[1,"btn","btn-primary",3,"routerLink"],["data-feather","plus-square"],[1,"col-sm-12"],[1,"card-body"],["id","top-tabContent",1,"tab-content"],["id","top-home","role","tabpanel","aria-labelledby","top-home-tab",1,"tab-pane","fade","show","active"],[1,"table-responsive","product-list-custom","custom-datatable"],[1,"table-responsive"],[1,"table"],[1,"Dashed"],["scope","col",1,"text-center"],["scope","col"],["class","Dashed",4,"ngFor","ngForOf"],[1,"text-center"],[1,"fa",3,"ngClass"],["target","_blank",3,"href"],["appTextTrim","","characters","12",3,"ngbTooltip"],["appTextTrim","","characters","15",3,"ngbTooltip"],[1,"btn","btn-xs","btn-link"],[1,"fa","fa-eye"],["appTextTrim","","characters","8",3,"ngbTooltip"],[1,"btn","btn-dark","btn-xs",3,"routerLink"],[1,"fa","fa-pencil"],[1,"btn","btn-danger","btn-xs","ml-1"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(n.Nb(0,"app-breadcrumb",0),n.Sb(1,"div",1),n.Sb(2,"div",2),n.Sb(3,"div",3),n.Sb(4,"div",4),n.Sb(5,"div",2),n.Nb(6,"div",5),n.Sb(7,"div",5),n.Sb(8,"div",6),n.Nb(9,"div",7),n.Sb(10,"a",8),n.Nb(11,"i",9),n.Jc(12,"Create New Customer"),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Sb(13,"div",10),n.Sb(14,"div",4),n.Sb(15,"div",11),n.Nb(16,"app-customer-advance-search"),n.Sb(17,"div",12),n.Sb(18,"div",13),n.Sb(19,"div",14),n.Sb(20,"div",15),n.Sb(21,"table",16),n.Sb(22,"thead"),n.Sb(23,"tr",17),n.Sb(24,"th",18),n.Jc(25,"ID"),n.Rb(),n.Sb(26,"th",19),n.Jc(27,"Name"),n.Rb(),n.Sb(28,"th",19),n.Jc(29,"User Name"),n.Rb(),n.Sb(30,"th",19),n.Jc(31,"Address"),n.Rb(),n.Sb(32,"th",19),n.Jc(33,"City"),n.Rb(),n.Sb(34,"th",19),n.Jc(35,"State"),n.Rb(),n.Sb(36,"th",18),n.Jc(37,"Phone Number"),n.Rb(),n.Sb(38,"th",19),n.Jc(39,"Email"),n.Rb(),n.Sb(40,"th",18),n.Jc(41,"Action"),n.Rb(),n.Rb(),n.Rb(),n.Sb(42,"tbody"),n.Hc(43,w,28,18,"tr",20),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb(),n.Rb()),2&t&&(n.mc("title","Customers")("items",n.pc(5,J))("active_item","Customers"),n.zb(10),n.mc("routerLink",n.pc(6,k)),n.zb(33),n.mc("ngForOf",e.customers))},directives:[d.a,b.h,y,r.l,r.k,N,g.f],styles:[""]}),t})();const z=[{path:"",component:x},{path:"customers",component:x},{path:"customer",component:f},{path:"customer/:customerId",component:f}];let F=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[b.i.forChild(z)],b.i]}),t})(),T=(()=>{class t{}return t.\u0275mod=n.Kb({type:t}),t.\u0275inj=n.Jb({factory:function(e){return new(e||t)},imports:[[r.c,i.a,F]]}),t})()}}]);